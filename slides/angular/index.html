<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>Sneaking Angular into an Existing App - SFHTML5 Meetup</title>

  <meta name="description" content="Sneaking Angular into an Existing App - SFHTML5 Meetup">
  <meta name="author" content="Alicia Liu">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <link rel="stylesheet" href="css/reveal.min.css">
  <link rel="stylesheet" href="css/theme/sky-custom.css" id="theme">

  <!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <!-- If the query includes 'print-pdf', use the PDF print sheet -->
  <script>
    document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
  </script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>

  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

<div class="reveal">

  <!-- Any section element inside of this container is displayed as a slide -->
  <div class="slides">
    <section>
      <h2>Sneaking Angular</h2>
      <h2>into an Existing App</h2>
      <h3 style="font-weight: bold;"><a href="http://alicialiu.net">Alicia Liu</a></h3>
      <p><a href="https://twitter.com/aliciatweet">@aliciatweet</a></p>
      <p>Sr Software Engineer, <a href="https://lift.do">Lift</a></p>
      <br>
      <p><a href="http://alicialiu.net/talks">http://alicialiu.net/talks</a></p>
    </section>
    <section data-background-color="#ffffff" data-background-image="images/lift-screenshot.png" data-background-size="100% auto" data-background-position="top center">
    </section>
    <section data-background-image="images/gnome.png" data-background-position="bottom right" data-background-size="40%" style="text-align: left; font-size: 2em;">
      <ol class="big-list">
        <li class="fragment">Decide You Want to Migrate Existing App to Angular</li>
        <li class="fragment"><span style="color: coral; font-weight: bold;">???</span></li>
        <li class="fragment">Profit</li>
      </ol>
    </section>
    <section>
      <h2>Start <small style="line-height: 1.8; text-transform: lowercase;">Small</small></h2>
      <pre class="fragment"><code data-trim contenteditable>
&lt;html ng-app="myApp"&gt;
...
&lt;/html&gt;
      </code></pre>
        <pre class="fragment"><code data-trim contenteditable>
&lt;div ng-app="myApp"&gt;
...
&lt;/div&gt;
      </code></pre>
    </section>
    <section>
      <h2>Example</h2>
      <p>Add question widget to meetup website</p>
      <div class="stack-fragments">
      <pre class="fragment"><code data-trim contenteditable>
&lt;div&gt;
  &lt;div&gt;
    &lt;form&gt;
      &lt;textarea&gt;&lt;/textarea&gt;
      &lt;input type="submit"&gt;
    &lt;/form&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;ul&gt;
      &lt;li&gt;
        &lt;!-- list of questions --&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;
      </code></pre>
      <pre class="fragment"><code data-trim contenteditable>
&lt;div ng-app="meanDemoApp"&gt;
  &lt;div ng-controller="QuestionformCtrl"&gt;
    &lt;form ng-submit="submitQuestion();"&gt;
      &lt;textarea ng-model="question.text"&gt;&lt;/textarea&gt;
      &lt;input type="submit"&gt;
    &lt;/form&gt;
  &lt;/div&gt;
  &lt;div ng-controller="QuestionlistCtrl"&gt;
    &lt;ul&gt;
      &lt;li ng-repeat="question in questions"&gt;
        {{question.text}}
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;
      </code></pre>
      </div>
    </section>
    <section>
      <h2>Getting MEAN</h2>
      <pre class="fragment"><code data-trim contenteditable>
angular.module('meanDemoApp')
  .factory('Question', function ($resource) {
    var rootUrl = 'http://localhost:4567';
    var apiRootUrl = rootUrl + '/api';

    return $resource(
      apiRootUrl + '/questions/:id',
      { id: '@id' },
      { vote: {
        method: 'POST',
        url: apiRootUrl + '/questions/:id/vote' }
      }
    );
  });
      </code></pre>
    </section>
    <section>
      <h2>Controllers</h2>
      <pre class="fragment"><code data-trim contenteditable>
angular.module('meanDemoApp')
  .controller('QuestionformCtrl', function ($scope, Question) {

    $scope.question = {};

    $scope.submitQuestion = function() {
      Question.save($scope.question,
        function() {
          $scope.question = {};
        });
    };
  })
  .controller('QuestionlistCtrl', function ($scope, Question) {

    Question.query(null,
      function(questions) {
        $scope.questions = questions;
      });

    $scope.upvote = function(question) {
      Question.vote({id: question._id});
    };
  })
      </code></pre>
    </section>
    <section>
      <h2>Filter Example</h2>
      <p>Super Simple Client-side Sorting</p>
      <pre class="fragment"><code data-trim contenteditable>
&lt;button ng-click="predicate = '-created'"&gt;Newest&lt;/button&gt;
&lt;button ng-click="predicate = '-voteCount'"&gt;Most Popular&lt;/button&gt;
&lt;ul&gt;
  &lt;li ng-repeat="question in questions | orderBy:predicate"&gt;
    &lt;span&gt;{{question.voteCount}}&lt;/span&gt;
    {{question.text}}
  &lt;/li&gt;
&lt;/ul&gt;
      </code></pre>
    </section>
    <section>
      <h2>Directives</h2>
      <pre class="fragment"><code data-trim contenteditable>
&lt;question-list&gt;&lt;/question-list&gt;
            </code></pre>
    </section>
    <section>
      <h2>Basic Directive</h2>
      <pre><code data-trim contenteditable>
angular.module('meanDemoApp')
  .directive('questionList', function() {
    return {
      restrict: "EA",
      templateUrl: '/views/question-list.tpl.html'
      scope: {},
      controller: 'QuestionlistCtrl',
    };
  });
      </code></pre>
    </section>
    <section>
      <h2>Wrapping Existing Code</h2>
      <pre class="fragment"><code data-trim contenteditable>
<category-selector question="question"></category-selector>
      </code></pre>
      <pre class="fragment"><code data-trim contenteditable>
angular.module('meanDemoApp')
.directive('categorySelector', function() {
  return {
    restrict: "E",
    replace: true,
    scope: {
      question: '='
    },
    template: '<select class="cs-select"></select>',
    // continued in next slide
  };
});
      </code></pre>
    </section>
    <section>
      <h2>Compile &amp; Link</h2>
      <pre><code data-trim contenteditable>
compile: function(tElem) {
  var categories = ['', 'mongo', 'express', 'angular', 'node'];
  categories.forEach(function(category) {
    tElem.append(angular.element('<option>' + category + '</option>'));
  });

  return function(scope, iElem) {
    var selectFx = new SelectFx(iElem[0], {
      onChange: function(option) {
        scope.question.category = option;
      }
    });

    scope.$watch('question.category', function(newVal) {
       selectFx.select(newVal);
    });
  }
}
      </code></pre>
    </section>
    <section>
      <h2>bit.ly/mean-code</h2>
    </section>
    <section>
      <h1>Expanding Angular</h1>
    </section>
    <section>
      <h2>Angular in a Subdirectory</h2>
         <pre class="fragment"><code data-trim contenteditable>
&lt;html ng-app="myApp"&gt;
&lt;head&gt;
  &lt;base href="/app/"&gt;
&lt;/head&gt;
&lt;body&gt;
   &lt;a href="/app/page"&gt;Handled by Angular&lt;/a&gt;
   &lt;a href="/page"&gt;Not handled by Angular&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
          </code></pre>
    </section>
    <section>
      <h2>All Angular!</h2>
      <p>What about non-Angular paths?</p>
         <pre class="fragment"><code data-trim contenteditable>
<!-- no &lt;base&gt; defined -->
&lt;a href="/url"&gt;Handled by Angular&lt;/a&gt;
&lt;a href="/url" target="_self"&gt;Not handled by Angular&lt;/a&gt;
          </code></pre>
    </section>
    <section data-background-image="images/gnome.png" data-background-position="center 120%" data-background-size="auto 40%">
      <h1>Thanks!</h1>
      <h2>Q &amp; A to Follow</h2>
      <p><a href="https://twitter.com/aliciatweet">@aliciatweet</a></p>
    </section>
  </div>
</div>
<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    center: true,

    transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none
    backgroundTransition: 'slide',

    width: 1280,
    height: 720,

    // Optional libraries used to extend on reveal.js
    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } }
    ]
  });

</script>

</body>
</html>